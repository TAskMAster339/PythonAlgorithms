# [**35) Spiral Matrix**](https://leetcode.com/problems/spiral-matrix/description/)

## **Условие:**

Дана матрица **m** на **n**, нужно вернуть массив элементов матрицы, расположенных в спиральном порядке.

## **Идея:**

Нужно понять как идти по спирали.

## **Реализация:**

Создадим две переменные **x**, **y** с помощью которых мы будем обращаться к элементам матрицы. Также нам понадобится **dx**, **dy** = **1**, **0**. (**x**+**dx**, **y**+**dy**) представляет собой следующий элемент в спиральном представление.

Пройдемся циклом по всем элементам матрицы. Каждую итерацию цикла мы будем добавлять **matrix**[**y**][**x**] элемент в массив ответа, после чего будем заменять его на "*", что означает, что мы уже записали данный элемент. Затем мы прибавляем **dx** к **x**, **dy** к **y** до тех пор, пока **x** + **dx** не выйдет за границы матрицы, в этот момент мы должны поменять местами **dx**, **dy** = -**dy**, **dx**. После такой замены мы идем дальше до тех пор, пока **y** + **dy** не выйдет за пределы матрицы, тогда мы снова делаем эту замену, теперь получим, что **dx** = -**1**, мы пойдем в обратную сторону по **x**, аналогично при следующей замене **dx**, **dy**, мы получим **dy** = -**1**, тем самым мы пройдем всю внешнюю часть спирали, остается теперь еще раз сменить направление обхода, когда мы наткнемся на "*"

Таким образом мы пройдем по всем элементам массива по спирали.



## **Оценка:**

По времени мы затратим **O**(**N*****M**), так как нам нужно пройти каждый элемент матрицы. По памяти **O**(**1**), так как дополнительной памятью мы не пользуемся.

## Код:
```python
from typing import List

from util import test_case


class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        rows, columns = len(matrix), len(matrix[0])
        x, y, dx, dy = 0, 0, 1, 0
        result = []

        for k in range(rows * columns):
            result.append(matrix[y][x])
            matrix[y][x] = "*"

            if (
                not 0 <= x + dx < columns
                or not 0 <= y + dy < rows
                or matrix[y + dy][x + dx] == "*"
            ):
                dx, dy = -dy, dx

            x += dx
            y += dy

        return result


if __name__ == "__main__":
    s = Solution()
    test_case(
        s.spiralOrder,
        [1, 2, 3, 6, 9, 8, 7, 4, 5],
        [[1, 2, 3], [4, 5, 6], [7, 8, 9]],
    )
    test_case(
        s.spiralOrder,
        [1, 2, 3, 4, 8, 12, 11, 10, 9, 5, 6, 7],
        [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]],
    )

```

